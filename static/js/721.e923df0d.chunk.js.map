{"version":3,"file":"static/js/721.e923df0d.chunk.js","mappings":"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","sources":["manager/components/Bill.js","manager/managerhome.js"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nconst Bill = ({jsonData}) => {\r\n    const [openUserBillDetails, setOpenUserBillDetails] = useState({});\r\n  const toggleUserBillDetails = (userBillIndex) => {\r\n    setOpenUserBillDetails(prevState => ({\r\n      ...prevState,\r\n      [userBillIndex]: !prevState[userBillIndex]\r\n    }));\r\n  };\r\n  return (\r\n    <>\r\n \r\n    {jsonData ? (\r\n      \r\n         <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\r\n        {jsonData?.bill?.map((userBill, userBillIndex) => (\r\n          <div key={userBillIndex} class=\"border border-gray-300 p-4\">\r\n            <p class=\"text-lg font-semibold\">Đơn hàng: {userBill?.day}</p>\r\n            <p>Ngày mua: {userBill?.date?.day}/{userBill?.date?.month}/{userBill?.date?.year}</p>\r\n            <p>Giờ mua: {userBill?.date?.hour}.{userBill?.date?.period}</p>\r\n            <p>Người mua: {userBill?.user}</p>\r\n            <p>ID người mua: {userBill?.userId}</p>\r\n            {openUserBillDetails[userBillIndex] && (\r\n              <div class=\"mt-4\">\r\n                <ul>\r\n                  {userBill?.cart?.products?.map((product, productIndex) => (\r\n                    <li key={productIndex} class=\"border p-4 mb-2\">\r\n                      <p class=\"font-semibold\">Tên sản phẩm: {product.productName}</p>\r\n                      <p>Loại sản phẩm: {product.productType}</p>\r\n                      <p>Số lượng: {product.quantity}</p>\r\n                      <p>Giá bán: {product.sellingPrice}</p>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n            <button onClick={() => toggleUserBillDetails(userBillIndex)} class=\"mt-4 form-text py-2 px-4 rounded\">\r\n              {openUserBillDetails[userBillIndex] ? 'Ẩn chi tiết đơn hàng' : 'Hiển thị chi tiết đơn hàng'}\r\n            </button>\r\n          </div>\r\n          \r\n        ))}\r\n      </div>\r\n    ) : (\r\n      <div class=\"text-center\">\r\n        Ko có dữ liệu đơn hàng trong thời gian này\r\n      </div>\r\n    )}\r\n\r\n  </>\r\n  )\r\n}\r\n\r\nexport default Bill","import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport * as Realm from 'realm-web';\r\nimport Form from '@rjsf/core';\r\nimport validator from '@rjsf/validator-ajv8';\r\nimport './JsonForm.css';\r\nimport Bill from './components/Bill';\r\nconst schema = {\r\n  type: 'object',\r\n  required: ['year', 'month', 'week', 'startDay', 'endDate'],\r\n  properties: {\r\n    year: { type: 'number', title: 'Năm', default:2024 },\r\n    month: { type: 'number', title: 'Tháng',default:3 },\r\n    week: { type: 'number', title: 'Tuần thứ' },\r\n    startDay: { type: 'number', title: 'Ngày bắt đầu của tuần',default:1 ,minimum:1,maximum:7},\r\n    endDate: { type: 'number', title: 'Ngày kết thúc của tuần',default:7,maximum:7 }\r\n  }\r\n};\r\nconst ManagerHome = () => {\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [jsonForm, setJsonForm] = useState('');\r\n  const app = new Realm.App({ id: process.env.REACT_APP_KEY });\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []); // Empty dependency array means it runs once on mount\r\n  const fetchData = async () => {\r\n    try {\r\n      if (!app.currentUser) {\r\n        navigate('/managerofinan/login');\r\n      } else {\r\n        const result = await app.currentUser.callFunction(\"BillJsonForm\");\r\n        setJsonForm(result[0]);\r\n        await app.currentUser.refreshAccessToken();\r\n      }\r\n    } catch (error) {\r\n      navigate('/managerofinan/login');\r\n     \r\n    }\r\n  };\r\n  const handleSubmit = async ({ formData }) => {\r\n    // Xử lý dữ liệu ở đây\r\n const arg=[formData,app.currentUser.id]\r\n    await app.currentUser.callFunction(\"updateoption\",...arg);\r\n    fetchData();\r\n    setShowForm(false); // Ẩn form sau khi submit\r\n  };\r\n\r\n  const handleFormClick = () => {\r\n    setShowForm(true); // Hiển thị form khi người dùng nhấn vào chữ \"Form\"\r\n  };\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n       <div className=\"containers\">\r\n      {showForm ? (\r\n        <Form\r\n          schema={schema}\r\n          onSubmit={handleSubmit}\r\n          validator={validator}\r\n        />\r\n      ) : (\r\n        <div className=\"form-text\" onClick={handleFormClick}>Ấn vào đây để mở form </div>\r\n      )}\r\n    </div>\r\n     <Bill jsonData={jsonForm?.public?.output?.jsonData}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagerHome;\r\n"],"names":["_ref","_jsonData$bill","jsonData","openUserBillDetails","setOpenUserBillDetails","useState","_jsx","_Fragment","children","class","bill","map","userBill","userBillIndex","_userBill$date","_userBill$date2","_userBill$date3","_userBill$date4","_userBill$date5","_userBill$cart","_userBill$cart$produc","_jsxs","day","date","month","year","hour","period","user","userId","cart","products","product","productIndex","productName","productType","quantity","sellingPrice","onClick","prevState","toggleUserBillDetails","schema","type","required","properties","title","default","week","startDay","minimum","maximum","endDate","ManagerHome","_jsonForm$public","_jsonForm$public$outp","showForm","setShowForm","jsonForm","setJsonForm","app","Realm","id","process","navigate","useNavigate","useEffect","fetchData","async","currentUser","result","callFunction","refreshAccessToken","error","className","Form","onSubmit","formData","arg","validator","handleFormClick","Bill","public","output"],"sourceRoot":""}